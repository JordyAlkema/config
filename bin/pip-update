#!/usr/bin/env bash

function main {
    pip_list_command="pip list --outdated --format=freeze"
    pip_install_command="xargs -n1 pip install -U"
    if [[ $1 == "--user" ]]; then
        pip_list_command="$pip_list_command --user"
        pip_install_comand="$pip_install_comand --user"
    fi
    $pip_list_command | grep -v "^\-e" | cut -d = -f 1 | $pip_install_command
}

main "$@"
